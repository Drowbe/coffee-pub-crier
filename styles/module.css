

/* ******************************************** */
/* *****          ALL CARDS             ***** */
/* ******************************************** */

/* Increases the space between all chat cards */

:root {
    --intCardMarginTop: 0px;
    --intCardMarginBottom: 0px;
    --intCardMarginLeft: 0px;
    --intCardMarginRight: 0px;
  }

/* ******************************************** */
/* *****          ROUND CARDS             ***** */
/* ******************************************** */

/* DEPRECATED: Round card CSS - Now using Blacksmith framework
   Commented out for reference and easy rollback if needed.
   Migration date: 2026-01-25
   
   Old round cards used custom CSS classes. New implementation uses:
   - .blacksmith-card with theme classes (theme-default, theme-announcement-green, etc.)
   - .card-header for the round message
   - Template now includes icon directly
   
   See templates/rounds.hbs for new structure.
*/

/*
.chat-message[data-message-id].coffee-pub.round-cycling-cardsminimalred .message-header,
.chat-message[data-message-id].coffee-pub.round-cycling-cardsminimalplain .message-header,
.chat-message[data-message-id].coffee-pub.round-cycling-cardssimple .message-header,
.chat-message[data-message-id].coffee-pub.round-cycling-cardsdark .message-header,
.chat-message[data-message-id].coffee-pub.round-cycling-cardsgreen .message-header,
.chat-message[data-message-id].coffee-pub.round-cycling-cardsred .message-header {
    align-items: center;
    line-height: unset;
}
.chat-message[data-message-id].coffee-pub.round-cycling-cardsminimalred div.round-message,
.chat-message[data-message-id].coffee-pub.round-cycling-cardsminimalplain div.round-message,
.chat-message[data-message-id].coffee-pub.round-cycling-cardssimple div.round-message,
.chat-message[data-message-id].coffee-pub.round-cycling-cardsdark div.round-message,
.chat-message[data-message-id].coffee-pub.round-cycling-cardsgreen div.round-message,
.chat-message[data-message-id].coffee-pub.round-cycling-cardsred div.round-message {
    display: inline-flex;
    gap: 0.3em;
    border: unset;
    justify-content: left;
    align-items: center;
    font-weight:550;
    font-size: 1.2em;
    font-style: normal;
    text-transform: uppercase;
    text-align: left;
	border-radius: 5px 5px 5px 5px;
    padding-top: 7px;
    padding-bottom: 6px;
    padding-left: 12px;
    padding-right: 6px;
    
    margin-top: var(--intCardMarginTop);
    margin-bottom: calc(var(--intCardMarginBottom) + -6px);
    margin-left: var(--intCardMarginLeft);
    margin-right: var(--intCardMarginRight);

}
.chat-message[data-message-id].coffee-pub.round-cycling-cardsminimalred .message-metadata,
.chat-message[data-message-id].coffee-pub.round-cycling-cardsminimalplain .message-metadata,
.chat-message[data-message-id].coffee-pub.round-cycling-cardssimple .message-metadata,
.chat-message[data-message-id].coffee-pub.round-cycling-cardsdark .message-metadata,
.chat-message[data-message-id].coffee-pub.round-cycling-cardsgreen .message-metadata,
.chat-message[data-message-id].coffee-pub.round-cycling-cardsred .message-metadata {
    flex: 0;
    white-space: nowrap
	
}
.chat-message[data-message-id].coffee-pub.round-cycling-cardsminimalred div.round-message .fa-solid,
.chat-message[data-message-id].coffee-pub.round-cycling-cardsminimalplain div.round-message .fa-solid,
.chat-message[data-message-id].coffee-pub.round-cycling-cardssimple div.round-message .fa-solid,
.chat-message[data-message-id].coffee-pub.round-cycling-cardsdark div.round-message .fa-solid,
.chat-message[data-message-id].coffee-pub.round-cycling-cardsgreen div.round-message .fa-solid,
.chat-message[data-message-id].coffee-pub.round-cycling-cardsred div.round-message .fa-solid{
    font-weight:550;
    font-size: 0.9em;
	padding-top: 0px;
    padding-bottom: 1px;
    padding-left: 0px;
    padding-right: 3px; 
}
.chat-message[data-message-id].coffee-pub.round-cycling-cardsminimalred .message-header img,
.chat-message[data-message-id].coffee-pub.round-cycling-cardsminimalplain .message-header img,
.chat-message[data-message-id].coffee-pub.round-cycling-cardssimple .message-header img,
.chat-message[data-message-id].coffee-pub.round-cycling-cardsdark .message-header img,
.chat-message[data-message-id].coffee-pub.round-cycling-cardsgreen .message-header img,
.chat-message[data-message-id].coffee-pub.round-cycling-cardsred .message-header img {
    display: none;
}
.chat-message[data-message-id].coffee-pub.round-cycling-cardsminimalred .message-metadata,
.chat-message[data-message-id].coffee-pub.round-cycling-cardsminimalplain .message-metadata,
.chat-message[data-message-id].coffee-pub.round-cycling-cardssimple .message-metadata,
.chat-message[data-message-id].coffee-pub.round-cycling-cardsdark .message-metadata,
.chat-message[data-message-id].coffee-pub.round-cycling-cardsgreen .message-metadata,
.chat-message[data-message-id].coffee-pub.round-cycling-cardsred .message-metadata {
    flex: 0;
    white-space: nowrap;
    display: none;
}

.chat-message[data-message-id].coffee-pub.round-cycling-cardsminimalred div.round-message, 
.chat-message[data-message-id].coffee-pub.round-cycling-cardsminimalplain div.round-message {
	font-weight:510;
    font-size: 1.0em;
    padding-top: 3px;
    padding-bottom: 3px;
    padding-left: 5px;
    padding-right: 5px;	
}
.chat-message[data-message-id].coffee-pub.round-cycling-cardsminimalplain div.round-message {
    border-left: 2px solid #4b4a45;
    border-right: 2px solid #4b4a45;
    border-top: 2px solid #4b4a45;
    border-bottom: 2px solid #4b4a45;
}
.chat-message[data-message-id].coffee-pub.round-cycling-cardsminimalred div.round-message {
    color: #EBE9E1 !important;
    background: #2D0607;
	border-left: 2px solid #771410;
    border-right: 2px solid #771410;
    border-top: 2px solid #771410;
    border-bottom: 2px solid #771410;
}

.chat-message[data-message-id].coffee-pub.round-cycling-cardssimple div.round-message {
    border-left: 2px solid #4b4a45;
    border-right: 2px solid #4b4a45;
    border-top: 2px solid #4b4a45;
    border-bottom: 2px solid #4b4a45;
}
.chat-message[data-message-id].coffee-pub.round-cycling-cardsdark div.round-message {
    color: #EBE9E1 !important;
    background: #0F0F0F;
    border-left: 2px solid #4E4B4B;
    border-right: 2px solid #4E4B4B;
    border-top: 2px solid #4E4B4B;
    border-bottom: 2px solid #4E4B4B;
}
.chat-message[data-message-id].coffee-pub.round-cycling-cardsred div.round-message {
    color: #EBE9E1 !important;
    background: #2D0607;
    border-left: 2px solid #771410;
    border-right: 2px solid #771410;
    border-top: 2px solid #771410;
    border-bottom: 2px solid #771410;
}
.chat-message[data-message-id].coffee-pub.round-cycling-cardsgreen div.round-message {
    color: #EBE9E1 !important;
    background: #525F1F;
    border-left: 2px solid #798740;
    border-right: 2px solid #798740;
    border-top: 2px solid #798740;
    border-bottom: 2px solid #798740;
}
*/

/* ******************************************** */
/* *****     MISSED TURN CARDS            ***** */
/* ******************************************** */

/* Missed turn cards use .blacksmith-card.theme-orange. Chrome from Blacksmith.
   Scoped below to .blacksmith-card.crier.missed-crier for custom styling. */

/* Pulse animation for missed turn cards */
@keyframes missed-pulse-color {
	0%, 100% {
		opacity: 1;
	}
	50% {
		opacity: 0.85;
	}
}

.blacksmith-card.crier.missed-crier {
	animation: missed-pulse-color 1s 10 forwards;
}

/* Missed turn card content styling */
.blacksmith-card.crier.missed-crier .card-header {
	text-transform: uppercase;
}

.blacksmith-card.crier.missed-crier .missed-combatant {
	font-weight: 550;
	font-size: 1.0em;
	text-transform: uppercase;
}

.blacksmith-card.crier.missed-crier .missed-turn-text {
	font-weight: 100;
	font-size: 1.0em;
	text-transform: uppercase;
}

/* ******************************************** */
/* *****           TURN CARDS             ***** */
/* ******************************************** */

/* Turn cards use .blacksmith-card + theme. Chrome (bg, border) from Blacksmith.
   Scoped below to .blacksmith-card.crier for layout and custom features. */

/* Icon */
.blacksmith-card.crier [id^="crier-cards-icon-"] {
	font-weight: 550;
	font-size: 1.0em;
	margin: 0 5px 0 0;
	padding: 0;
}
/* Title / card-header */
.blacksmith-card.crier [id^="crier-cards-title-"] {
	border-radius: 4px;
	padding: 5px 10px;
	margin: 0;
}
/* Description / Player */
.blacksmith-card.crier [id^="crier-cards-description-"] {
	border-radius: 4px;
	padding: 5px 10px;
	margin-top: 10px;
	margin-bottom: 0;
}
/* Content block */
.blacksmith-card.crier [id^="crier-cards-content-"] {
	border-radius: 5px;
	padding: 0;
	margin-top: 10px;
	margin-bottom: 0;
}
/* Image */
.blacksmith-card.crier .section-content img {
	border-radius: 4px !important;
	display: block;
	margin-left: auto;
	margin-right: auto;
	margin-top: 0;
	margin-bottom: -4px;
	padding: 0;
}
/* Portrait Overlay */
.blacksmith-card.crier .image-stack {
	display: grid;
	grid-template-columns: repeat(1, 1fr);
	position: relative;
}
.blacksmith-card.crier .image-stack__item--bottom {
	grid-column: 1 / span 1;
	grid-row: 1;
	z-index: 1;
}
.blacksmith-card.crier .image-stack__item--top {
	grid-column: 1 / -1;
	grid-row: 1;
}
/* Typography – layout only; theme colors from Blacksmith */
.blacksmith-card.crier h1 {
	font-weight: 550;
	font-size: 1.1em;
	text-transform: uppercase;
	display: inline;
	margin: 0;
	padding: 0;
}
.blacksmith-card.crier h2 {
	font-weight: 400;
	font-size: 1.0em;
	margin: 0;
	padding: 0;
}
.blacksmith-card.crier h3 {
	font-weight: 400;
	font-size: 0.85em;
	margin: 10px 0 0;
	padding: 5px 0 0;
}
.blacksmith-card.crier .crier-cards-user-cardsgreen,
.blacksmith-card.crier .crier-cards-user-cardsblue,
.blacksmith-card.crier .crier-cards-user-cardsdark,
.blacksmith-card.crier .crier-cards-user-cardsred {
	font-weight: 550;
	font-size: 0.9em;
	text-transform: uppercase;
}
/* Grid (small layout) */
.blacksmith-card.crier .grid-container {
	display: grid;
	grid-template-columns: 3fr 1fr;
	grid-gap: 10px;
	margin: 0;
	padding: 0;
}
.blacksmith-card.crier .grid-container .grid-child.left,
.blacksmith-card.crier .grid-container .grid-child.right {
	margin: 0;
	padding: 0;
}
/* HP Layout */
.blacksmith-card.crier [id^="hp-container-"] {
	border-radius: 4px;
	padding: 3px;
	margin-top: 10px;
	margin-bottom: 0;
}
.blacksmith-card.crier [id^="hp-container-"] [id^="hp-progress-"] {
	height: 10px;
	border-radius: 2px;
	margin: 0;
	padding: 0;
}
.blacksmith-card.crier [id^="hp-container-"] [id*="hp-progress-critical-"] {
	animation: hp-pulse-color 2s 10 forwards;
}
/* Abilities Layout */
.blacksmith-card.crier [id^="ability-container-"] {
	display: grid;
	grid-template-columns: repeat(6, 1fr);
	grid-gap: 5px;
	margin: 0;
	padding: 0;
}
.blacksmith-card.crier [id^="ability-container-"] [id^="ability-child-"] {
	border-radius: 4px;
	padding: 5px 10px;
	margin-top: 10px;
	margin-bottom: 0;
}
.blacksmith-card.crier [id^="ability-title-"] {
	font-weight: 400;
	font-size: 0.6em;
	text-transform: uppercase;
	text-align: center;
	display: block;
	margin: 0;
	padding: 0;
}
.blacksmith-card.crier [id^="ability-content-"] {
	font-weight: 550;
	font-size: 1.1em;
	text-transform: uppercase;
	text-align: center;
	display: block;
	margin: 0;
	padding: 0;
}
/* Death Save Layout */
.blacksmith-card.crier [class*="crier-deathsave-wrapper-"] {
	display: grid;
	grid-template-columns: auto auto auto;
	position: relative;
	text-align: center;
	padding: 0;
}
.blacksmith-card.crier [class*="crier-deathsave-wrapper-icon-"],
.blacksmith-card.crier [class*="crier-deathsave-wrapper-successes-"],
.blacksmith-card.crier [class*="crier-deathsave-wrapper-failures-"] {
	grid-column: auto;
	font-size: 1.2em;
	padding: 2px 0;
	margin: 0;
	display: flex;
	align-items: center;
}
.blacksmith-card.crier [class*="crier-deathsave-wrapper-icon-"] {
	justify-content: center;
}
.blacksmith-card.crier [class*="crier-deathsave-wrapper-successes-"] {
	justify-content: right;
}
.blacksmith-card.crier [class*="crier-deathsave-wrapper-failures-"] {
	justify-content: left;
}
.blacksmith-card.crier [class*="crier-deathsave-icon-"] {
	animation: death-save-pulse 3s infinite;
}
.blacksmith-card.crier [class*="crier-deathsuccessdot-"],
.blacksmith-card.crier [class*="crier-deathfailuredot-"] {
	display: inline-block;
	border-radius: 25%;
	height: 13px;
	width: 13px;
	margin: 0 6px;
	padding: 0;
}





/* ============= COLORS FOR CARDS =================== */

/******** Common Colors ********/
@keyframes hp-pulse-color {
	0% { background: rgb(119, 20, 16); }
	50% { background: rgb(209, 18, 12); }
	100% { background: rgb(119, 20, 16); }
}
@keyframes death-save-pulse {
	0%, 40%, 60%, 100% { opacity: 1; }
	45%, 55% { opacity: 0.6; }
}
/* Token backgrounds – scoped to turn cards */
.blacksmith-card.crier .crier-token-background-themecolor,
.blacksmith-card.crier .crier-token-background-brick,
.blacksmith-card.crier .crier-token-background-cobblestone,
.blacksmith-card.crier .crier-token-background-dessert,
.blacksmith-card.crier .crier-token-background-parchment,
.blacksmith-card.crier .crier-token-background-rock,
.blacksmith-card.crier .crier-token-background-stone,
.blacksmith-card.crier .crier-token-background-clothdark,
.blacksmith-card.crier .crier-token-background-clothlight,
.blacksmith-card.crier .crier-token-background-stonefloor,
.blacksmith-card.crier .crier-token-background-grass,
.blacksmith-card.crier .crier-token-background-dirt {
	background-repeat: repeat;
	background-size: cover;
}
.blacksmith-card.crier .crier-token-background-themecolor {
	background-color: transparent;
}
.blacksmith-card.crier .crier-token-background-dirt {
	background-image: url(../images/tile-dirt.webp);
}
.blacksmith-card.crier .crier-token-background-grass {
	background-image: url(../images/tile-grass.webp);
}
.blacksmith-card.crier .crier-token-background-parchment {
	background-image: url(../images/tile-parchment.webp);
}
.blacksmith-card.crier .crier-token-background-clothlight {
	background-image: url(../images/tile-clothlight.webp);
}
.blacksmith-card.crier .crier-token-background-clothdark {
	background-image: url(../images/tile-clothdark.webp);
}
.blacksmith-card.crier .crier-token-background-brick {
	background-image: url(../images/tile-brick.webp);
}
.blacksmith-card.crier .crier-token-background-cobblestone {
	background-image: url(../images/tile-cobblestone.webp);
}
.blacksmith-card.crier .crier-token-background-dessert {
	background-image: url(../images/tile-dessert.webp);
}
.blacksmith-card.crier .crier-token-background-stonefloor {
	background-image: url(../images/tile-stonefloor.webp);
}
.blacksmith-card.crier .crier-token-background-rock {
	background-image: url(../images/tile-rock.webp);
}
.blacksmith-card.crier .crier-token-background-stone {
	background-image: url(../images/tile-stone.webp);
}

/******** Turn card semantic colors (HP, death saves) – theme from Blacksmith ********/
.blacksmith-card.crier [id*="hp-progress-healthy-"] { background: #629602; }
.blacksmith-card.crier [id*="hp-progress-hurt-"] { background: #df8601; }
.blacksmith-card.crier [id*="hp-progress-dying-"] { background: #772810; }
.blacksmith-card.crier [id*="hp-progress-critical-"] { background: #771410; }
.blacksmith-card.crier [id*="hp-progress-dead-"] { background: #424242; }
.blacksmith-card.crier [class*="crier-deathsuccessdot-off-"] {
	background-color: rgba(0,0,0,0.2);
	border: 1px solid #504a4a;
}
.blacksmith-card.crier [class*="crier-deathsuccessdot-on-"] {
	background-color: #629602;
	border: 1px solid #629602;
}
.blacksmith-card.crier [class*="crier-deathfailuredot-off-"] {
	background-color: rgba(0,0,0,0.2);
	border: 1px solid #771410;
}
.blacksmith-card.crier [class*="crier-deathfailuredot-on-"] {
	background-color: #771410;
	border: 1px solid #771410;
}
